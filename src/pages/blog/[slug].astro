---
import PostLayout from '../../layouts/PostLayout.astro';
import Layout from '../../layouts/Layout.astro';

export async function getStaticPaths() {
  const allPostFiles = import.meta.glob('/src/content/blog/*.md');
  return Object.keys(allPostFiles).map(file => ({
    params: { slug: file.split('/').pop()?.replace('.md', '') || '' }
  }));
}

const { slug } = Astro.params;
---

<Layout>
    <PostLayout slug={slug} />
</Layout>