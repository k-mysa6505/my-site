---
import Layout from '../../layouts/Layout.astro';
import WorksPostLayout from '../../layouts/WorksPostLayout.astro';

export async function getStaticPaths() {
  const allWorkFiles = import.meta.glob('/src/content/works/*.md');
  return Object.keys(allWorkFiles).map(file => ({
    params: { slug: file.split('/').pop()?.replace('.md', '') || '' }
  }));
}

const { slug } = Astro.params;
---
<Layout>
    <WorksPostLayout slug={slug} />
</Layout> 